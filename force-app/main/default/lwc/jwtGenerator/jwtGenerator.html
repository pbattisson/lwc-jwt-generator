<template>
    <lightning-card title="JWT Generator">
        <div class="slds-var-p-around_medium">
            <template lwc:if={loading}>
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </template>
            <lightning-input value={username} label="Subject (a Salesforce Username)" onchange={handleUsernameChange} type="email"></lightning-input>
            <lightning-combobox name="audience" label="Audience" value={audience} placeholder="Select Audience" options={audienceOptions} onchange={handleAudienceChange}></lightning-combobox>
            <lightning-input value={clientId} label="Issuer (Client Id for External Client App)" onchange={handleClientIdChange} ></lightning-input>
            <lightning-input value={certificateName} label="Certificate Name" onchange={handleCertificateNameChange} ></lightning-input>
            <div>
                <b>Generated token:</b><br>
                {token}
            </div>
        </div>
        <div slot="footer">
            <lightning-button variant="brand" label="Generate Token" title="Generate Token" onclick={generateToken} disabled={buttonDisabled}></lightning-button> 
        </div>
    </lightning-card>
</template>